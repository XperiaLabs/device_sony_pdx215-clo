From 8ea15d77d2a6604fbe036186f45abb32ee594528 Mon Sep 17 00:00:00 2001
From: saku-bruh <saku-bruh@proton.me>
Date: Mon, 12 Aug 2024 21:01:56 +0000
Subject: [PATCH] products: Introduce Sony Xperia 1 III (pdx215)

---
 products/AndroidProducts.mk        |  4 ++
 products/pdx215/aospa.dependencies | 62 ++++++++++++++++++++++++++++++
 products/pdx215/aospa_pdx215.mk    | 44 +++++++++++++++++++++
 3 files changed, 110 insertions(+)
 create mode 100644 products/pdx215/aospa.dependencies
 create mode 100644 products/pdx215/aospa_pdx215.mk

diff --git a/products/AndroidProducts.mk b/products/AndroidProducts.mk
index f238bbc..c604c60 100644
--- a/products/AndroidProducts.mk
+++ b/products/AndroidProducts.mk
@@ -48,6 +48,7 @@ PRODUCT_MAKEFILES += \
     $(LOCAL_DIR)/oriole/aospa_oriole.mk \
     $(LOCAL_DIR)/panther/aospa_panther.mk \
     $(LOCAL_DIR)/pdx234/aospa_pdx234.mk \
+    $(LOCAL_DIR)/pdx215/aospa_pdx215.mk \
     $(LOCAL_DIR)/phoenix/aospa_phoenix.mk \
     $(LOCAL_DIR)/phone1/aospa_phone1.mk \
     $(LOCAL_DIR)/phone2/aospa_phone2.mk \
@@ -96,6 +97,9 @@ COMMON_LUNCH_CHOICES += \
     aospa_oriole-userdebug \
     aospa_panther-userdebug \
     aospa_pdx234-userdebug \
+    aospa_pdx215-user \
+    aospa_pdx215-userdebug \
+    aospa_pdx215-eng \
     aospa_phoenix-userdebug \
     aospa_phone1-userdebug \
     aospa_phone2-userdebug \
diff --git a/products/pdx215/aospa.dependencies b/products/pdx215/aospa.dependencies
new file mode 100644
index 0000000..1a03173
--- /dev/null
+++ b/products/pdx215/aospa.dependencies
@@ -0,0 +1,62 @@
+[
+    {
+        "remote":       "xperialabs",
+        "repository":   "device_sony_pdx215-clo",
+        "target_path":  "device/sony/pdx215",
+        "revision":     "uvite"
+    },
+    {
+        "remote":       "xperialabs",
+        "repository":   "vendor_sony_pdx215-clo",
+        "target_path":  "vendor/sony/pdx215",
+        "revision":     "61.2.A.0.472A",
+    },
+    {
+        "remote":       "xperialabs",
+        "repository":   "hardware_sony",
+        "target_path":  "hardware/sony",
+        "revision":     "UDC-CLO"
+    },
+    {
+        "remote":       "xperialabs",
+        "repository":   "kernel_sony_sagami",
+        "target_path":  "kernel/msm-5.4",
+        "revision":     "HELLSING-uvite"
+    },
+    {
+        "remote":       "aospa",
+        "repository":   "AOSPA/android_hardware_qcom_audio",
+        "target_path":  "vendor/qcom/opensource/audio-hal/primary-hal",
+        "revision":     "uvite-888"
+    },
+    {
+        "remote":       "aospa",
+        "repository":   "AOSPA/android_hardware_qcom_media",
+        "target_path":  "hardware/qcom/media",
+        "revision":     "uvite-888"
+    },
+    {
+        "remote":       "aospa",
+        "repository":   "AOSPA/android_vendor_qcom_opensource_audio-hal_st-hal",
+        "target_path":  "vendor/qcom/opensource/audio-hal/st-hal",
+        "revision":     "uvite-888"
+    },
+    {
+        "remote":       "aospa",
+        "repository":   "AOSPA/android_hardware_qcom_display",
+        "target_path":  "hardware/qcom/display",
+        "revision":     "uvite-888"
+    },
+    {
+        "remote":       "aospa",
+        "repository":   "AOSPA/android_hardware_qcom_gps",
+        "target_path":  "hardware/qcom/gps",
+        "revision":     "uvite-888"
+    },
+    {
+        "remote":       "aospa",
+        "repository":   "AOSPA/android_vendor_nxp_opensource_hidlimpl",
+        "target_path":  "vendor/nxp/opensource/hidlimpl",
+        "revision":     "uvite-SN100X-legacy"
+    },
+    {
+        "remote":       "aospa",
+        "repository":   "AOSPA/android_vendor_nxp_opensource_halimpl",
+        "target_path":  "vendor/nxp/opensource/halimpl",
+        "revision":     "uvite-SN100X-legacy"
+    },
+]
diff --git a/products/pdx215/aospa_pdx215.mk b/products/pdx215/aospa_pdx215.mk
new file mode 100644
index 0000000..caaca10
--- /dev/null
+++ b/products/pdx215/aospa_pdx215.mk
@@ -0,0 +1,44 @@
+# Copyright (C) 2024 XperiaLabs Project
+# Copyright (C) 2022-2024 Paranoid Android
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#      http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+# Inherit from those products. Most specific first.
+$(call inherit-product, $(SRC_TARGET_DIR)/product/core_64_bit.mk)
+$(call inherit-product, $(SRC_TARGET_DIR)/product/full_base_telephony.mk)
+
+# Inherit from the custom device configuration.
+$(call inherit-product, device/sony/pdx215/device.mk)
+
+# Inherit from the AOSPA configuration.
+$(call inherit-product, vendor/aospa/target/product/aospa-target.mk)
+
+# Boot Animation
+TARGET_SCREEN_HEIGHT := 3840
+TARGET_SCREEN_WIDTH := 1644
+TARGET_BOOT_ANIMATION_RES := 1440
+TARGET_BOOTANIMATION_HALF_RES := true
+
+# Device Identifiers
+PRODUCT_NAME := aospa_pdx215
+PRODUCT_DEVICE := pdx215
+PRODUCT_MANUFACTURER := Sony
+PRODUCT_BRAND := Sony
+PRODUCT_MODEL := Xperia 1 III
+
+PRODUCT_GMS_CLIENTID_BASE := android-sonymobile
+
+PRODUCT_BUILD_PROP_OVERRIDES += \
+    PRIVATE_BUILD_DESC="XQ-EC72-user 14 69.0.A.2.32 069000A002003200522519484 release-keys"
+
+BUILD_FINGERPRINT := Sony/XQ-EC72/XQ-EC72:14/69.0.A.2.32/069000A002003200522519484:user/release-keys


